<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nuestro √Årbol üíñ</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;}

body{
    height:100vh;
    background:#0d1020;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    color:white;
    text-align:center;
}

/* Cielo estrellas */
#stars{
    position:absolute;
    width:100%;
    height:100%;
    z-index:0;
}

.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    border-radius:50%;
    opacity:0.3;
}

/* Escena */
.scene{
    position:absolute;
    bottom:0;
    width:100%;
    height:70%;
    display:flex;
    justify-content:center;
    align-items:flex-end;
}

/* Tronco animado */
#tronco{
    transform-origin:bottom;
    transform:scaleY(0);
    animation: crecer 2s forwards;
}

@keyframes crecer{
    to{transform:scaleY(1);}
}

/* Corazones */
.heart{
    animation: latido 3s infinite ease-in-out;
}

@keyframes latido{
    0%{transform:scale(1);}
    50%{transform:scale(1.2);}
    100%{transform:scale(1);}
}

/* Botones */
#pregunta{z-index:2;margin-top:20px;}

button{
    padding:12px 25px;
    font-size:18px;
    border:none;
    border-radius:25px;
    margin:10px;
    cursor:pointer;
}

#si{background:#ff4d6d;color:white;}
#no{background:white;color:#ff4d6d;}

/* Modal */
#errorModal{
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0.7);
    display:none;
    justify-content:center;
    align-items:center;
}

#errorBox{
    background:white;
    color:#ff4d6d;
    padding:30px;
    border-radius:15px;
}

/* Corazones flotando */
.corazon{
    position:absolute;
    font-size:20px;
    animation: flotar 4s linear forwards;
}

@keyframes flotar{
    0%{transform:translateY(100vh);opacity:1;}
    100%{transform:translateY(-10vh);opacity:0;}
}

#nombres{
    margin-top:10px;
    color:#ff9ecb;
}
</style>
</head>

<body>

<div id="stars"></div>
<audio id="musica" src="musica.mp3"></audio>

<div id="pregunta">
    <h1>Ivonne üíï<br>¬øQuieres ser mi San Valent√≠n?</h1>
    <button id="si" onclick="aceptar()">S√≠ üòç</button>
    <button id="no" onclick="errorNo()">No üòÖ</button>
    <div id="contador"></div>
</div>

<div id="nombres">Daniel ‚ù§Ô∏è Ivonne</div>

<div class="scene">
<svg width="400" height="400" viewBox="0 0 400 400">

<!-- Tronco -->
<rect id="tronco" x="185" y="180" width="30" height="150" fill="#4b2e2e"/>

<!-- Grupo corazones -->
<g id="corazonesBase" transform="translate(200,150)"></g>

<!-- Pasto -->
<rect x="0" y="330" width="400" height="70" fill="#102d1c"/>

<!-- Persona izquierda -->
<circle cx="170" cy="310" r="10" fill="white"/>
<line x1="170" y1="320" x2="170" y2="350" stroke="white" stroke-width="3"/>

<!-- Persona derecha -->
<circle cx="230" cy="310" r="10" fill="white"/>
<line x1="230" y1="320" x2="230" y2="350" stroke="white" stroke-width="3"/>

<!-- Manos unidas -->
<line x1="170" y1="335" x2="230" y2="335" stroke="#ff9ecb" stroke-width="3"/>

</svg>
</div>

<div id="errorModal">
    <div id="errorBox">
        ‚ùå Esta opci√≥n no est√° disponible üíï<br><br>
        <button onclick="cerrarError()">Entendido üòÖ</button>
    </div>
</div>

<script>

const colores=["#ff4d6d","#ff8fab","#ffc2d1","#c9184a","#ffb3c6","#ffccd5"];

/* Crear estrellas */
function crearEstrellas(cantidad){
    const cielo=document.getElementById("stars");
    for(let i=0;i<cantidad;i++){
        const star=document.createElement("div");
        star.classList.add("star");
        star.style.top=Math.random()*100+"%";
        star.style.left=Math.random()*100+"%";
        star.style.opacity=Math.random();
        cielo.appendChild(star);
    }
}

/* Corazones √°rbol */
function crearCorazones(cantidad){
    const grupo=document.getElementById("corazonesBase");
    for(let i=0;i<cantidad;i++){
        const x=Math.random()*200-100;
        const y=Math.random()*120-80;
        const color=colores[Math.floor(Math.random()*colores.length)];
        const size=Math.random()*30+20;

        const heart=document.createElementNS("http://www.w3.org/2000/svg","path");
        heart.setAttribute("d","M0,-20 C-20,-40 -50,-10 0,30 C50,-10 20,-40 0,-20Z");
        heart.setAttribute("fill",color);
        heart.setAttribute("transform",`translate(${x},${y}) scale(${size/40})`);
        heart.setAttribute("class","heart");
        grupo.appendChild(heart);
    }
}

/* Aceptar */
function aceptar(){
    crearCorazones(50);
    crearEstrellas(150);
    setInterval(()=>{
        const c=document.createElement("div");
        c.classList.add("corazon");
        c.innerHTML="üíñ";
        c.style.left=Math.random()*100+"vw";
        document.body.appendChild(c);
        setTimeout(()=>c.remove(),4000);
    },200);
}

/* Error */
function errorNo(){
    document.getElementById("errorModal").style.display="flex";
}
function cerrarError(){
    document.getElementById("errorModal").style.display="none";
}

/* Contador */
function actualizarContador(){
    const ahora=new Date();
    let a√±o=ahora.getFullYear();
    let fecha=new Date(`February 14, ${a√±o} 00:00:00`);
    if(ahora>fecha){fecha=new Date(`February 14, ${a√±o+1} 00:00:00`);}
    const dif=fecha-ahora;

    const d=Math.floor(dif/(1000*60*60*24));
    const h=Math.floor((dif%(1000*60*60*24))/(1000*60*60));
    const m=Math.floor((dif%(1000*60*60))/(1000*60));
    const s=Math.floor((dif%(1000*60))/1000);

    document.getElementById("contador").innerHTML=
    `Faltan üíò ${d}d ${h}h ${m}m ${s}s`;
}

setInterval(actualizarContador,1000);

/* Inicial */
window.onload=()=>{
    crearEstrellas(80);
    crearCorazones(20);
    document.getElementById("musica").play().catch(()=>{});
};

</script>

</body>
</html>
